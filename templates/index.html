{% load static %}
{% load crispy_forms_tags %}
{% load crispy_forms_filters %}
<!DOCTYPE html>
<html lang="en">
     <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1" />
          <meta name="color-scheme" content="light dark" />
          <meta name="keywords"
                content="API, Joke, Entertainment, Yo Mama Jokes, The Dozens " />
          <title>The Dozens - The Yo' Momma Jokes API</title>
          <link rel="icon"
                type="image/x-icon"
                href="{% static 'assets/favicon.ico' %}" />
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
                rel="stylesheet"
                integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
                crossorigin="anonymous" />
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                  integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
                  crossorigin="anonymous"></script>
          <link rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/uikit@3.17.4/dist/css/uikit.min.css" />
          <script src="https://kit.fontawesome.com/58e27c88da.js"
                  crossorigin="anonymous"></script>
          <link rel="stylesheet"
                href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
          <script src="https://unpkg.com/highlight.run"></script>
          <style>
               @font-face {
                    font-family: YoMamaHeader;
                    src: url('https://cdn.jsdelivr.net/gh/Terry-BrooksJr/the-dozens-django@c39984f366fe21d0e62d3c38bac514535e5b89a7/static/fonts/caloriesuit.woff2') format('woff2');
               }

               @font-face {
                    font-family: YoMamaBody;
                    src: url('https://cdn.jsdelivr.net/gh/Terry-BrooksJr/the-dozens-django@cfed15844ea94edfc7e4f61a1fb60f92570aeb68/static/fonts/JuliusSansOne-Regular.woff2') format('woff2');
               }

               :root {
                    --color-primary: #770071;
                    --color-secondary: #bd00b4;
                    --color-accent: #beda00;
                    --color-white: #ffffff;
                    --z-preloader: 9999;
                    --transition-standard: 300ms ease;
               }

               * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
               }

               body {
                    background-image: url("https://cdn.jsdelivr.net/gh/Terry-BrooksJr/the-dozens-django@fb77aebafb4f58cffa6d4ddd7026473372f42faf/static/assets/background.svg");
                    background-repeat: no-repeat;
                    background-color: #D7DF0D;
                    background-size: cover;
                    background-attachment: fixed;
                    background-position: center center;
                    font-family: "YoMamaBody", Arial, sans-serif;
                    min-height: 100vh;
                    margin: 0;
                    line-height: 1.6;
               }

               /* Mobile-first: Use scroll on touch devices */
               @media (max-width: 768px) {
                    body {
                         background-attachment: scroll;
                         background: linear-gradient(169deg, rgba(215, 223, 13, 1) 0%, rgba(190, 218, 0, 1) 50%, rgba(119, 0, 113, 1) 100%);
                    }
               }

               #preloader {
                    position: fixed;
                    inset: 0;
                    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    z-index: var(--z-preloader);
                    opacity: 1;
                    transition: opacity var(--transition-standard);
               }

               h1,
               h2,
               h3,
               h4,
               h5,
               h6,
               .uk-accordion-title,
               .phrase-item,
               .header-font {
                    font-family: 'YoMamaHeader', Arial, sans-serif;
                    text-shadow:
                         -1px -1px 0 var(--color-primary),
                         1px -1px 0 var(--color-primary),
                         -1px 1px 0 var(--color-primary),
                         1px 1px 0 var(--color-primary);
                    color: var(--color-white);
               }

               h1:hover,
               h2:hover,
               h3:hover,
               h4:hover,
               h6:hover,
               .uk-accordion-title:hover,
               .phrase-item:hover,
               .header-font:hover {
                    font-family: 'YoMamaHeader', Arial, sans-serif;
                    text-shadow:
                         -1px -1px 0 var(--color-white),
                         1px -1px 0 var(--color-white),
                         -1px 1px 0 var(--color-white),
                         1px 1px 0 var(--color-white);
                    color: var(--color-primary);
               }
               
               /* Responsive text sizing */
               h1 { font-size: clamp(1.75rem, 4vw, 2.5rem); }
               h2 { font-size: clamp(1.5rem, 3.5vw, 2rem); }
               h3 { font-size: clamp(1.25rem, 3vw, 1.75rem); }
               p { font-size: clamp(0.9rem, 2.5vw, 1.1rem); }

               .loading-container {
                    text-align: center;
                    color: var(--color-white);
                    padding: 1rem;
               }

               #loading-message {
                    font-size: clamp(1.2rem, 3vw, 1.5rem);
                    margin-bottom: 2rem;
                    font-family: 'YoMamaHeader';
               }

               #phrases {
                    max-width: min(600px, 90vw);
                    margin: 0 auto;
               }

               .phrase-item {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0.75rem 1rem;
                    color: var(--color-white);
                    opacity: 0.7;
                    transition: all 0.3s ease;
                    font-size: clamp(0.9rem, 2.5vw, 1rem);
               }
               .bg-silver{
                      background: linear-gradient(to right, #ccc 0%, #eee 25%, #fff 50%, #eee 75%, #ccc 100%) !important;

               }
               .phrase-item.completed {
                    opacity: 1;
               }

               #jod-icon {
                    height: auto;
                    width: auto;
                    max-height: 120px;
                    max-width: 120px;
               }

               /* Responsive icon sizing */
               @media (max-width: 576px) {
                    #jod-icon {
                         max-height: 80px;
                         max-width: 80px;
                    }
               }

               .checkmark {
                    width: 20px;
                    height: 20px;
                    min-width: 20px;
                    opacity: 0;
                    transition: opacity 0.3s ease;
               }

               .phrase-item.completed .checkmark {
                    opacity: 1;
               }

               .fade-out {
                    opacity: 0 !important;
               }

               .content-wrapper {
                    position: relative;
                    opacity: 0;
                    transition: opacity var(--transition-standard);
                    min-height: 100vh;
               }

               .content-wrapper.show {
                    opacity: 1;
               }

               .joke-of-day {
                    background-color: var(--color-primary);
                    color: var(--color-white);
                    border-radius: 25px;
                    padding: 1.5rem;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
               }

               .joke-title {
                    background-color: var(--color-accent);
                    color: #333;
                    border-radius: 15px;
                    padding: 1rem;
                    transition: background-color 0.3s ease;
               }

               .joke-title:hover {
                    background-color: var(--color-secondary);
                    color: var(--color-white);
               }

               .scale-font {
                    font-size: clamp(1rem, 2vw, 1.5rem);
               }

               .main-content {
                    padding: 1rem;
                    width: 100%;
               }

               /* Mobile-first main content */
               @media (min-width: 768px) {
                    .main-content {
                         padding: 2rem;
                    }
               }

               .features-section {
                    background: white;
                    border-radius: 8px;
                    padding: 1.5rem;
                    margin-top: 2rem;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
               }

               @media (min-width: 768px) {
                    .features-section {
                         padding: 2rem;
                    }
               }

               #dozens-image {
                    width: 100%;
                    height: auto;
                    max-width: 100%;
               }

               /* Navigation Styles */
               .yo-nav {
                    position: sticky;
                    top: 0;
                    z-index: 1030;
                    backdrop-filter: saturate(140%) blur(8px);
                    background: color-mix(in srgb, var(--color-primary) 88%, transparent);
                    border-bottom: 1px solid color-mix(in srgb, #000 12%, transparent);
                    box-shadow: 0 2px 10px rgba(0, 0, 0, .08);
               }

               .yo-nav .brand-text {
                    font-weight: 800;
                    letter-spacing: .02em;
               }

               .yo-nav .nav-link {
                    padding: 0.75rem 1rem;
                    font-weight: 700;
                    letter-spacing: .04em;
                    color: var(--color-white);
                    opacity: .95;
                    font-size: clamp(0.8rem, 2vw, 1rem);
                    text-align: center;
               }
.card-title {
     color: unset;
     background-color: unset;
}
               /* Mobile nav adjustments */
               @media (max-width: 767px) {
                    .yo-nav .nav-link {
                         padding: 0.5rem;
                         font-size: 0.9rem;
                         line-height: 1.2;
                    }
                    
                    .navbar-nav {
                         text-align: center;
                    }
                    
                    .navbar-nav .nav-item {
                         margin: 0.25rem 0;
                    }
               }

               .nav-link:active,
               .nav-link.active,
               .card-header-tabs:active {
                    color: var(--color-white);
                    opacity: 1;
                    font-weight: 800;
                    background: color-mix(in srgb, var(--color-primary) 88%, transparent);
                    border-bottom: 2px solid var(--color-accent);
               }

               .card>h5,
               .card-header>a {
                    color: var(--color-primary);
               }

               .yo-nav .nav-link:hover,
               .yo-nav .nav-link:focus {
                    opacity: 1;
               }

               /* Underline animations */
               .nav-underline {
                    position: relative;
               }
/* Optional: avoid double underlines when active */
#built-with-list .nav-link.active {
  border-bottom: 0;

}   

.nav-underline::after {
                    content: "";
                    position: absolute;
                    left: 1rem;
                    right: 1rem;
                    bottom: .35rem;
                    height: 2px;
                    transform: scaleX(0);
                    transform-origin: left;
                    background: var(--color-accent);
                    transition: transform 200ms var(--transition-standard);
               }

               .nav-underline:hover::after,
               .nav-underline:focus::after,
               .nav-link[aria-current="page"].nav-underline::after {
                    transform: scaleX(1);
               }

               .btn-accent {
                    background: var(--color-accent);
                    border: none;
                    color: #222;
                    padding: 0.5rem 0.75rem;
                    border-radius: .75rem;
                    font-weight: 800;
                    font-size: clamp(0.8rem, 2vw, 1rem);
               }

               @media (min-width: 768px) {
                    .btn-accent {
                         padding: 0.6rem 1rem;
                    }
               }
/* Make sure the underline can be positioned */
#built-with-list .nav-link.nav-underline {
  position: relative;
  font-family: "YoMamaHeader" ;
  text-decoration: none !important;
}

/* Base underline (hidden by default) */
#built-with-list .nav-link.nav-underline::after {
  content: "";
  position: absolute;
  left: 1rem;
  right: 1rem;
  bottom: .35rem;
  height: 2px;
  background: var(--color-accent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 200ms var(--transition-standard);
}

/* Show the underline on hover OR when this tab is the active/selected one */
#built-with-list .nav-link.nav-underline:hover::after,
#built-with-list .nav-link.nav-underline:focus::after,
#built-with-list .nav-link.nav-underline.active::after,
#built-with-list .nav-link.nav-underline[aria-selected="true"]::after {
  transform: scaleX(1);
}
               .btn-accent:hover {
                    filter: brightness(1.05);
               }

               /* Dropdown improvements */
               .dropdown-menu {
                    border-radius: .75rem;
                    border: 1px solid rgba(0, 0, 0, .08);
                    box-shadow: 0 12px 30px rgba(0, 0, 0, .12);
                    min-width: 200px;
               }

               .dropdown-item {
                    padding: .55rem .85rem;
                    font-weight: 600;
                    font-size: clamp(0.85rem, 2vw, 1rem);
               }

               .dropdown-item:active {
                    background: var(--color-accent);
                    color: #222;
               }

   

               .dropdown-menu-horizontal>li {
                    flex: 1 1 auto;
                    min-width: 80px;
               }

               .dropdown-item {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                    gap: 0.25rem;
                    padding: 0.5rem 0.25rem;
                    line-height: 1.2;
                    white-space: normal;
                    border-right: 1px solid rgba(0, 0, 0, .1);
                    font-size: 0.75rem;
               }

               .dropdown-menu-horizontal .dropdown-item:last-child {
                    border-right: 0;
               }

               .api-nav-img {
                    height: 24px;
                    width: auto;
                    display: block;
                    margin-bottom: 0.25rem;
               }

               /* Mobile dropdown stacking */
               @media (max-width: 576px) {
                    .dropdown-menu-horizontal {
                         flex-direction: column;
                         gap: 0;
                         min-width: 200px;
                    }
                    
                    .dropdown-menu-horizontal>li {
                         width: 100%;
                         flex: none;
                    }
                    
                    .dropdown-menu-horizontal .dropdown-item {
                         flex-direction: row;
                         border-right: none;
                         border-bottom: 1px solid rgba(0, 0, 0, .1);
                         padding: 0.75rem;
                         gap: 0.5rem;
                         text-align: left;
                         justify-content: flex-start;
                    }
                    
                    .dropdown-menu-horizontal .dropdown-item:last-child {
                         border-bottom: none;
                    }
               }

               /* Focus and accessibility */
               .yo-nav :focus-visible {
                    outline: 2px solid var(--color-accent);
                    outline-offset: 2px;
               }

               .navbar-toggler {
                    border: 0;
                    box-shadow: none !important;
                    padding: 0.5rem;
               }

               .navbar-toggler:focus {
                    outline: 2px solid var(--color-accent);
               }

               /* Main content sections */
               main {
                    padding: 1rem 0;
               }

               #body-content {
                    padding: 1rem;
               }

               @media (min-width: 768px) {
                    #body-content {
                         padding: 2rem;
                    }
               }
#built-with-list > li {
background-color: unset;
color: unset;
}
#built-with-list > li > .nav-link.active {
    background-color: unset;
    color: unset;
    font-weight: bold;
}
               /* Responsive spacing */
               .row {
                    margin-bottom: 1.5rem;
               }

               @media (min-width: 768px) {
                    .row {
                         margin-bottom: 2rem;
                    }
               }

               /* Video responsive */
               #about-video {
                    max-width: 75%;
                    height: auto;
               }

               /* Cards and tabs - mobile improvements */
               .card {
                    margin-bottom: 1rem;
               }

               .nav-tabs {
                    flex-wrap: wrap;
               }

               .nav-tabs .nav-link {
                    font-size: clamp(0.75rem, 2vw, 0.9rem);
                    padding: 0.5rem 0.75rem;
                    white-space: nowrap;
               }

               @media (max-width: 576px) {
                    .nav-tabs .nav-link {
                         padding: 0.5rem 0.25rem;
                         font-size: 0.7rem;
                    }
               }

               .card-img-top {
                    height: auto;
                    max-height: 120px;
                    width: auto;
                    object-fit: contain;
               }

               /* Accordion responsive */
               .accordion-button {
                    font-size: clamp(0.9rem, 2.5vw, 1.1rem);
                    padding: 1rem 0.75rem;
               }

               .accordion-body {
                    font-size: clamp(0.85rem, 2vw, 1rem);
                    padding: 1rem 0.75rem;
               }

               /* Speech Bubble - responsive */
               .speech-bubble {
                    position: fixed;
                    background: var(--color-primary);
                    color: var(--color-white);
                    padding: 12px 16px;
                    border-radius: 15px;
                    font-family: 'YoMamaBody', Arial, sans-serif;
                    font-size: clamp(0.8rem, 2vw, 0.9rem);
                    line-height: 1.4;
                    max-width: min(280px, 90vw);
                    min-width: min(180px, 80vw);
                    z-index: 1000;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                    opacity: 0;
                    visibility: hidden;
                    transform: translateY(10px);
                    transition: all 0.3s ease;
                    pointer-events: none;
                    border: 2px solid var(--color-accent);
               }

               .speech-bubble.show {
                    opacity: 1;
                    visibility: visible;
                    transform: translateY(0);
               }

               .speech-bubble::after {
                    content: '';
                    position: absolute;
                    top: 100%;
                    left: 50%;
                    margin-left: -10px;
                    border: 10px solid transparent;
                    border-top-color: var(--color-primary);
               }

               .speech-bubble.tail-left::after {
                    left: 20px;
               }

               .speech-bubble.tail-right::after {
                    left: auto;
                    right: 20px;
               }

               .icon-joke-of-day {
                    transition: all 0.3s ease;
                    cursor: pointer;
                    height: auto;
                    width: auto;
                    max-height: 120px;
               }

               @media (max-width: 576px) {
                    .icon-joke-of-day {
                         max-height: 80px;
                    }
               }

               .icon-joke-of-day:hover {
                    transform: scale(1.05);
                    filter: drop-shadow(0 0 10px rgba(189, 0, 180, 0.6));
               }

               /* Touch-friendly hover effects for mobile */
               @media (hover: none) and (pointer: coarse) {
                    .icon-joke-of-day:hover {
                         transform: none;
                         filter: none;
                    }
                    
                    .icon-joke-of-day:active {
                         transform: scale(0.95);
                    }
               }

               .speech-bubble.loading {
                    background: var(--color-secondary);
               }

               .speech-bubble.loading::before {
                    content: '⟳ ';
                    animation: spin 1s linear infinite;
                    margin-right: 5px;
               }

               @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
               }

               /* Utility classes for responsive design */
               .text-responsive {
                    font-size: clamp(0.9rem, 2.5vw, 1.1rem);
               }

               .d-none-mobile {
                    display: block;
               }

               
               @media (max-width: 767px) {
                    .d-none-mobile {
                         display: none !important;
                    }
               }

               .d-block-mobile {
                    display: none;
               }

               @media (max-width: 767px) {
                    .d-block-mobile {
                         display: block !important;
                    }
               }

               /* Remove problematic mobile redirect styles */
               .mobile-redirect {
                    display: none !important;
               }

               /* Ensure all images are responsive */
               img, video, iframe, embed, object {
                    max-width: 100%;
                    height: auto;
               }

               /* Fix any potential overflow issues */


               /* Improve touch targets on mobile */
               @media (max-width: 767px) {
                    button, .btn, .nav-link, .dropdown-item, a {
                         min-height: 44px;
                         min-width: 44px;
                         display: inline-flex;
                         align-items: center;
                         justify-content: center;
                    }
                    
                    .nav-link, .dropdown-item {
                         padding: 0.75rem;
                    }
               }

               /* Copyright and video sub-copy responsive */
               .video-sub-copy, .copyright-text {
                    font-size: clamp(0.7rem, 1.8vw, 0.85rem);
                    text-align: center;
               }

               @media (min-width: 768px) {
                    .video-sub-copy, .copyright-text {
                         text-align: left;
                    }
               }

               /* Ensure proper spacing on all devices */
               @media (max-width: 767px) {
                    .ms-md-5 {
                         margin-left: 0 !important;
                         margin-top: 1rem;
                    }
                    
                    #about-video {
                         max-width: 75%;
                         margin-left: 0 !important;
                         margin-top: 1rem;
                    }
               }
          </style>
     </head>
     <body>
          <!-- Preloader -->
          <div id="preloader">
               <div class="loading-container">
                    <div id="loading-message">Loading awesome jokes...</div>
                    <div id="phrases"></div>
               </div>
          </div>
          
          <div class="layout-container">
               <div class="content-wrapper">
                    <div class="responsive-wrapper">
                         <header role="banner">
                              <nav class="navbar navbar-expand-lg navbar-dark yo-nav"
                                   role="navigation"
                                   aria-label="Main">
                                   <div class="container-fluid">
                                        <div class="RandomJoke navbar-brand d-flex align-items-center gap-2">
                                             <img id="jod-icon"
                                                  alt="joke_of_day_icon"
                                                  class="icon-joke-of-day img-fluid"
                                                  src="{% static 'assets/icon-jod.png' %}" />
                                        </div>
                                        <button class="navbar-toggler"
                                                type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#mainNav"
                                                aria-controls="mainNav"
                                                aria-expanded="false"
                                                aria-label="Toggle navigation">
                                             <span class="navbar-toggler-icon"></span>
                                        </button>
                                        <div id="mainNav" class="collapse navbar-collapse">
                                             <ul class="navbar-nav ms-auto d-flex align-items-center text-center">
                                                  <li class="nav-item">
                                                       <a class="nav-link nav-underline"
                                                          href="https://www.brooksjr.com"
                                                          target="_blank"
                                                          rel="noopener">
                                                            <span class="d-none d-md-inline">About<br>the<br>Developer</span>
                                                            <span class="d-md-none">About Developer</span>
                                                       </a>
                                                  </li>
                                                  <li class="nav-item dropdown">
                                                       <a class="nav-link dropdown-toggle nav-underline"
                                                          href="#"
                                                          id="apiMenuToggle"
                                                          role="button"
                                                          data-bs-toggle="dropdown"
                                                          aria-expanded="false">
                    
                                                            The API
                                                  </a>
                                                            <ul id="api-menu" class="d-flex flex-row dropdown-menu "
                                                           aria-labelledby="apiMenu">
                                                            <li>
                                                                 <a class="dropdown-item" target="_blank" href="{% url 'swagger' %}">
                                                                      <img class="api-nav-img"
                                                                           src="{% static 'assets/swagger_icon.png' %}"
                                                                           alt="swagger_logo" />
                                                                      Swagger
                                                                 </a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item"
                                                                    target="_blank"
                                                                    href="https://www.postman.com/terryabrooksjr/the-roast-api-yo-mama-jokes/overview">
                                                                      <img class="api-nav-img"
                                                                           src="{% static 'assets/postman_logo.png' %}"
                                                                           alt="postman_logo" />
                                                                      Postman
                                                                 </a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item" target="_blank" href="/graphql">
                                                                      <img class="api-nav-img"
                                                                           src="{% static 'assets/GraphQL_logo.png' %}"
                                                                           alt="graphql_logo" />
                                                                      GraphQL
                                                                 </a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item" target="_blank" href="{% url 'schema' %}">
                                                                      <img class="api-nav-img"
                                                                           src="{% static 'assets/OpenAPI_logo.png' %}"
                                                                           alt="opneapi_logo" />
                                                                      OpenAPI Schema
                                                                 </a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item" href="{% url 'redoc' %}">
                                                                      <img class="api-nav-img"
                                                                           src="{% static 'assets/Redoc.png' %}"
                                                                           alt="redoc_logo" />
                                                                      Documentation
                                                                 </a>
                                                            </li>
                                                            <li>
                                                                 <button class="dropdown-item" id="reportAJokeTrigger">
                                                                      <i class="fa-solid fa-bullhorn"></i>
                                                                      Report a Joke
                                                                 </button>
                                                            </li>
                                                       </ul>
                                                       
                                                  </li>
                                                  <li class="nav-item dropdown">
                                                       <a class="nav-link dropdown-toggle nav-underline"
                                                          href="#"
                                                          id="historyMenu"
                                                          role="button"
                                                          data-bs-toggle="dropdown"
                                                          aria-expanded="false">
                                                            <span class="d-none d-md-inline">History of<br>Yo' Momma Jokes</span>
                                                            <span class="d-md-none">History</span>
                                                       </a>
                                                       <ul class="dropdown-menu" aria-labelledby="historyMenu">
                                                            <li>
                                                                 <a class="dropdown-item"
                                                                    href="#history-overview-modal"
                                                                    data-bs-toggle="modal">Overview</a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item"
                                                                    href="#history-origins-modal"
                                                                    data-bs-toggle="modal">Origins</a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item"
                                                                    href="#history-practice-modal"
                                                                    data-bs-toggle="modal">Purpose & Practice</a>
                                                            </li>
                                                            <li>
                                                                 <a class="dropdown-item"
                                                                    href="#history-ref-modal"
                                                                    data-bs-toggle="modal">References</a>
                                                            </li>
                                                       </ul>
                                                  </li>
                                                  <li class="nav-item ms-2">
                                                       <a id="getting-started-modal-btn" class="btn btn-accent header-font">
                                                            <span class="d-none d-md-inline">Get<br>Started</span>
                                                            <span class="d-md-none">Get Started</span>
                                                       </a>
                                                  </li>
                                             </ul>
                                        </div>
                                   </div>
                              </nav>
                         </header>
                         <main>
                              <section id="body-content">
                                   <div class="container-fluid">
                                        <div class="row justify-content-center" id="body-img-row">
                                             <div class="col-12 col-lg-8 col-xl-6 text-center">
                                                  <img id="dozens-image"
                                                       src="{% static 'assets/yo_momma_brand.png' %}"
                                                       class="img-fluid"
                                                       alt="The Dozens - Yo Mama Jokes API Brand" />
                                                       <h1>Welcome!</h1>
                                             </div>
                                        </div>
                                        <div class="row justify-content-center" id="body-copy">
                                             <div class="col-12 col-lg-8 col-xl-6">
                                                  <p class="text-center text-responsive">
                                                       Introducing a powerful and versatile Yo Mama Jokes API, meticulously crafted using Python 3.0's
                                                       exceptional web framework, Django, in conjunction with the Django REST framework.
                                                  </p>
                                                  <p class="text-center text-responsive">
                                                       This Yo Mama Jokes API is designed to be scalable, secure, and user-friendly, making it the perfect
                                                       tool for integrating humor into your applications. Whether you're building a fun app, adding some
                                                       lightheartedness to a website, or conducting data analysis on humor, our API has you covered.
                                                  </p>
                                             </div>
                                        </div>
                                        <div class="row justify-content-center">
                                             <div class="col-12 col-lg-8" id="video">
                                                  <video id="about-video"
                                                         class="img-fluid w-100"
                                                         src="{% static 'assets/blackish_the_dozens_abc_broadcasting.mp4' %}"
                                                         controls>
                                                  </video>
                                             </div>
                                        </div>
                                        <div id="copyright-container" class="row justify-content-center">
                                             <div class="col-12 col-lg-8">
                                                  <div class="video-sub-copy">
                                                       <sub>Clip from ABC's Hit Show <strong>black</strong>·<em>ish</em></sub>
                                                  </div>
                                                  <div class="copyright-text">
                                                       <sub><i class="fa fa-copyright"></i> American Broadcasting Company (ABC)</sub>
                                                  </div>
                                             </div>
                                        </div>
                                        <div class="row justify-content-center" id="built-with-row">
                                             <div class="col-12 col-lg-10 col-xl-8">
                                                  <h1>Built With...</h1>
                                                  <p class="text-responsive">Hover over each icon to see how it was used to build this API.</p>
                                                  <div class="card bg-silver  text-center">
                                                       <div class="card-header">
                                                            <ul id="built-with-list" class="nav-tabs nav nav-pills nav-fill card-header-tabs">
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline active"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="framework"
                                                                         aria-selected="true"
                                                                         id="framework-tab"
                                                                         href="#framework">Framework</a>
                                                                 </li>
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="caching"
                                                                         aria-selected="false"
                                                                         id="caching-tab"
                                                                         href="#caching">Caching</a>
                                                                 </li>
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="database"
                                                                         aria-selected="false"
                                                                         id="database-tab"
                                                                         href="#database">Database</a>
                                                                 </li>
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="monitoring"
                                                                         aria-selected="false"
                                                                         id="monitoring-tab"
                                                                         href="#monitoring"><span class="d-none d-md-inline">Monitoring &<br>Observability</span><span class="d-md-none">Monitoring</span></a>
                                                                 </li>
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="ci-cd"
                                                                         aria-selected="false"
                                                                         id="ci-cd-tab"
                                                                         href="#ci-cd">CI/CD</a>
                                                                 </li>
                                                                 <li class="nav-item">
                                                                      <a class="nav-link nav-underline"
                                                                         data-bs-toggle="pill"
                                                                         role="tab"
                                                                         aria-controls="hosting"
                                                                         aria-selected="false"
                                                                         id="hosting-tab"
                                                                         href="#hosting">Hosting</a>
                                                                 </li>
                                                            </ul>
                                                       </div>
                                                       <div class="tab-content" id="pills-tabContent">
                                                            <div class="tab-pane bg-silver  card fade show active"
                                                                 id="framework"
                                                                 role="tabpanel"
                                                                 aria-labelledby="framework-tab">
                                                                 <img class="card-img-top"
                                                                      src="{% static 'assets/Django_REST.png' %}"
                                                                      alt="drf-logo">
                                                                 <div class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="Django REST Framework (DRF) powers routing, serialization, validation, auth, throttling, filtering, and pagination—plus auto OpenAPI docs via drf-spectacular (Swagger & Postman).">
                                                                      <h5 class="card-title">Framework</h5>
                                                                      <p class="card-text">Django REST Framework</p>
                                                                      <p>Django REST Framework (DRF) powers routing, serialization, validation, auth, throttling, filtering, and pagination—plus auto OpenAPI docs via drf-spectacular (Swagger & Postman).</p>
                                                                      <a href="https://www.django-rest-framework.org/"
                                                                         rel="external"
                                                                         target="_blank"
                                                                         class="card-link">More on DRF</a>
                                                                 </div>
                                                            </div>
                                                            <div class="tab-pane bg-silver  card fade"
                                                                 id="caching"
                                                                 role="tabpanel"
                                                                 aria-labelledby="caching-tab">
                                                                 <img class="card-img-top"
                                                                      src="{% static 'assets/dragonfly.png' %}"
                                                                      alt="dragondflydb-logo">
                                                                 <div class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="DragonflyDB is the Redis-compatible caching database that keeps The Dozens snappy. It stores frequently requested jokes, categories, and API responses in memory so the system delivers laughs instantly without hammering the primary database.">
                                                                      <h5 class="card-title">Caching</h5>
                                                                      <p class="card-text">Dragonfly DB</p>
                                                                      <p>DragonflyDB is the Redis-compatible caching database that keeps The Dozens snappy. It stores frequently requested jokes, categories, and API responses in memory so the system delivers laughs instantly without hammering the primary database.</p>
                                                                      <a href="https://www.dragonflydb.io/"
                                                                         target="_blank"
                                                                         rel="external"
                                                                         class="card-link">More on Dragonfly DB</a>
                                                                 </div>
                                                            </div>
                                                            <div class="tab-pane bg-silver  card fade"
                                                                 id="database"
                                                                 role="tabpanel"
                                                                 aria-labelledby="database-tab">
                                                                 <img class="card-img-top"
                                                                      src="{% static 'assets/PostgresSQL_logo.png' %}"
                                                                      alt="postgres-logo">
                                                                 <div class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="PostgreSQL is the relational database that organizes and stores all the jokes, categories, and user submissions. Its robust data types and schema flexibility make it ideal for managing structured humor data—whether text, enums, or JSONB payloads.">
                                                                      <h5 class="card-title">Relational Database Management System</h5>
                                                                      <p>PostgreSQL is the relational database that organizes and stores all the jokes, categories, and user submissions. Its robust data types and schema flexibility make it ideal for managing structured humor data—whether text, enums, or JSONB payloads.</p>
                                                                      <p class="card-text">PostgreSQL</p>
                                                                      <a href="https://www.postgresql.org/"
                                                                         target="_blank"
                                                                         rel="external"
                                                                         class="card-link">More on PostgreSQL</a>
                                                                 </div>
                                                            </div>
                                                            <div class="tab-pane bg-silver  card fade"
                                                                 id="monitoring"
                                                                 role="tabpanel"
                                                                 aria-labelledby="monitoring-tab">
                                                                 <img id="monitoring-img"
                                                                      class="card-img-top"
                                                                      src="{% static 'assets/prom_logo.png' %}"
                                                                      alt="monitoring-logo">
                                                                 <div id="monitoring-tooltip"
                                                                      class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="Prometheus and Highlight.io work together to keep The Dozens API reliable and transparent. Prometheus collects metrics (latency, request counts, cache hits, error rates) so performance can be tracked and tuned.">
                                                                      <h5 id="monitoring-card-title" class="card-title">Monitoring</h5>
                                                                      <p id="monitoring-card-text" class="card-text">Prometheus</p>
                                                                      <p id="monitoring-card-desc" class="card-text">API reliable and transparent. Prometheus collects metrics (latency, request counts, cache hits, error rates) so performance can be tracked and tuned.</p>
                                                                      <a id="monitoring-card-link"
                                                                         href="https://prometheus.io/"
                                                                         rel="external"
                                                                         target="_blank"
                                                                         class="card-link">More on Prometheus</a>
                                                                 </div>
                                                            </div>
                                                            <div class="tab-pane bg-silver  card fade"
                                                                 id="ci-cd"
                                                                 role="tabpanel"
                                                                 aria-labelledby="ci-cd-tab">
                                                                 <img class="card-img-top"
                                                                      src="{% static 'assets/gh_actions.webp' %}"
                                                                      alt="gh-actions-logo">
                                                                 <div class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="GitHub Actions automates testing, building, and deployment pipelines for continuous integration and deployment.">
                                                                      <h5 class="card-title">CI/CD</h5>
                                                                      <p class="card-text">Github Actions</p>
                                                                      <p>GitHub Actions automates testing, building, and deployment pipelines for continuous integration and deployment.</p>
                                                                      <a href="https://github.com/features/actions"
                                                                         rel="external"
                                                                         target="_blank"
                                                                         class="card-link">More on Github Actions</a>
                                                                 </div>
                                                            </div>
                                                            <div class="tab-pane card bg-silver  fade"
                                                                 id="hosting"
                                                                 role="tabpanel"
                                                                 aria-labelledby="hosting-tab">
                                                                 <img class="card-img-top"
                                                                      src="{% static 'assets/DigitalOcean_logo.png' %}"
                                                                      alt="do-logo">
                                                                 <div class="card-body"
                                                                      data-toggle="tooltip"
                                                                      data-placement="bottom"
                                                                      title="Digital Ocean provides cloud infrastructure hosting for reliable, scalable deployment.">
                                                                      <h5 class="card-title">Hosting</h5>
                                                                      <p class="card-text">Digital Ocean Cloud</p>
                                                                      <a href="https://www.digitalocean.com/"
                                                                         rel="external"
                                                                         target="_blank"
                                                                         class="card-link">More on Digital Ocean's Cloud Infrastructure</a>
                                                                 </div>
                                                            </div>
                                                       </div>
                                                  </div>
                                             </div>
                                        </div>
                                   </div>
                              </section>
                              
                              <section id="key-features">
                                   <div class="container-fluid">
                                        <div class="row justify-content-center">
                                             <div class="col-12 col-lg-10 col-xl-8">
                                                  <h1>Key Features</h1>
                                                  <div class="accordion" id="key-features-accordion">
                                                       <div class="accordion-item">
                                                            <h2 class="accordion-header" id="headingOne">
                                                                 <button class="accordion-button"
                                                                         type="button"
                                                                         data-bs-toggle="collapse"
                                                                         data-bs-target="#feature-filtering"
                                                                         aria-expanded="true"
                                                                         aria-controls="feature-filtering">
                                                                      Comprehensive Filtering
                                                                 </button>
                                                            </h2>
                                                            <div id="feature-filtering"
                                                                 class="accordion-collapse collapse show"
                                                                 aria-labelledby="headingOne"
                                                                 data-bs-parent="#key-features-accordion">
                                                                 <div class="accordion-body">
                                                                      API consumers can effortlessly filter jokes based on specific
                                                                      categories and nsfw content, allowing for a highly customized joke retrieval experience.
                                                                 </div>
                                                            </div>
                                                       </div>
                                                       <div class="accordion-item">
                                                            <h2 class="accordion-header" id="headingTwo">
                                                                 <button class="accordion-button collapsed"
                                                                         type="button"
                                                                         data-bs-toggle="collapse"
                                                                         data-bs-target="#features-dual-formats"
                                                                         aria-expanded="false"
                                                                         aria-controls="features-dual-formats">
                                                                      Dual API Formats
                                                                 </button>
                                                            </h2>
                                                            <div id="features-dual-formats"
                                                                 class="accordion-collapse collapse"
                                                                 aria-labelledby="headingTwo"
                                                                 data-bs-parent="#key-features-accordion">
                                                                 <div class="accordion-body">
                                                                      In addition to the REST API, we offer a GraphQL API version,
                                                                      providing flexibility and convenience for developers who prefer this modern approach to querying data.
                                                                 </div>
                                                            </div>
                                                       </div>
                                                       <div class="accordion-item">
                                                            <h2 class="accordion-header" id="headingThree">
                                                                 <button class="accordion-button collapsed"
                                                                         type="button"
                                                                         data-bs-toggle="collapse"
                                                                         data-bs-target="#feature-rate-limiting"
                                                                         aria-expanded="false"
                                                                         aria-controls="feature-rate-limiting">
                                                                      Generous Rate Limiting
                                                                 </button>
                                                            </h2>
                                                            <div id="feature-rate-limiting"
                                                                 class="accordion-collapse collapse"
                                                                 aria-labelledby="headingThree"
                                                                 data-bs-parent="#key-features-accordion">
                                                                 <div class="accordion-body">
                                                                      Protects against abuse and ensures fair usage by implementing
                                                                      robust rate limiting, making sure your application's performance remains optimal even under high traffic.
                                                                 </div>
                                                            </div>
                                                       </div>
                                                  </div>
                                             </div>
                                        </div>
                                   </div>
                              </section>
                         </main>
                         
                         <!-- Scripts -->
                         <script type="text/javascript"
                                 src="{% static 'js/fontAwesomeIconPicker.min.js' %}"></script>
                         <script src='https://cdnjs.cloudflare.com/ajax/libs/fontawesome-iconpicker/3.2.0/js/fontawesome-iconpicker.min.js'></script>
                         <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.4/dist/js/uikit.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.4/dist/js/uikit-icons.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/letterizejs@2.0.1/lib/letterize.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrambleTextPlugin.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>
                         <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/TextPlugin.min.js"></script>
                         
                         <!-- Include modals and forms -->
                         {% include "includes/history-modal.html" %}
                         {% include "includes/joke-reporting-form.html" %}
                         {% include "includes/getting-started.html" %}
                    </div>
               </div>
          </div>

          <script>
               // JavaScript remains the same but with responsive improvements
               const HIGHLIGHT_PROJECT_ID = document.body.dataset.highlightProjectId || "5g5kvvlg";
               const HIGHLIGHT_CONFIG = {
                    environment: document.body.dataset.environment || "production",
                    version: "commit:abcdefg12345",
                    networkRecording: {
                         enabled: true,
                         recordHeadersAndBody: true,
                         urlBlocklist: [],
                    },
               };

               const SVG_NAMESPACE = "http://www.w3.org/2000/svg";
               const VERTICAL_SPACING = 50;
               const ANIMATION_DURATION = 30000;
               const API_URL = "{% url 'random_insult' %}";
               const PRELOADER_DELAY = 3000;
               const PHRASES = [
                    "Generating witty dialog",
                    "Prepping Insults",
                    "Offending Mothers",
                    "Debating Fathers",
                    "Irritating Aunts",
                    "Annoying Grandmothers",
                    "Disparaging Grandfathers",
                    "Frustrating Matriarchs",
                    "Cracking jokes",
                    "Slacking off",
               ];
               
               gsap.registerPlugin(TextPlugin);

               const animateCSS = (element, animation, prefix = 'animate__') =>
                    new Promise((resolve, reject) => {
                         const animationName = `${prefix}${animation}`;
                         const node = document.querySelector(element);
                         node.classList.add(`${prefix}animated`, animationName);
                         
                         function handleAnimationEnd(event) {
                              event.stopPropagation();
                              node.classList.remove(`${prefix}animated`, animationName);
                              resolve('Animation ended');
                         }
                         
                         node.addEventListener('animationend', handleAnimationEnd, { once: true });
                    });

               if (typeof H !== "undefined" && HIGHLIGHT_PROJECT_ID) {
                    H.init(HIGHLIGHT_PROJECT_ID, HIGHLIGHT_CONFIG);
               }

               // All JavaScript classes remain exactly the same
               class SVGFactory {
                    static create(tag, properties = {}, children = []) {
                         const element = document.createElementNS(SVG_NAMESPACE, tag);
                         Object.entries(properties).forEach(([prop, value]) =>
                              element.setAttribute(prop, value)
                         );
                         children.forEach((child) => element.appendChild(child));
                         return element;
                    }

                    static createPhrase(phrase, yOffset) {
                         return this.create(
                              "text", {
                                   fill: "white",
                                   x: "50",
                                   y: yOffset.toString(),
                                   "font-size": "18",
                                   "font-family": "Arial",
                              },
                              [document.createTextNode(phrase + "...")]
                         );
                    }
                    
                    static createCheck(yOffset, index) {
                         const check = this.create("polygon", {
                              points: "21.661,7.643 13.396,19.328 9.429,15.361 7.075,17.714 13.745,24.384 24.345,9.708",
                              fill: "rgba(255,255,255,1)",
                              id: `loadingCheckSVG-${index}`,
                         });

                         const circleOutline = this.create("path", {
                              d: "M16,0C7.163,0,0,7.163,0,16s7.163,16,16,16s16-7.163,16-16S24.837,0,16,0z M16,30C8.28,30,2,23.72,2,16C2,8.28,8.28,2,16,2 c7.72,0,14,6.28,14,14C30,23.72,23.72,30,16,30z",
                              fill: "white",
                         });

                         const circle = this.create("circle", {
                              id: `loadingCheckCircleSVG-${index}`,
                              fill: "rgba(255,255,255,0)",
                              cx: "16",
                              cy: "16",
                              r: "15",
                         });

                         return this.create("g", {}, [circleOutline, circle, check]);
                    }
               }

               class PreloaderAnimation {
                    constructor() {
                         this.config = {
                              animationDuration: 3000,
                              messageInterval: 1000,
                              fadeOutDuration: 500,
                              verticalSpacing: 50,
                         };

                         this.phrases = PHRASES;
                         this.state = {
                              isAnimating: false,
                              startTime: Date.now(),
                              currentPhraseIndex: 0,
                         };

                         this.elements = {
                              preloader: document.getElementById("preloader"),
                              phrasesContainer: document.getElementById("phrases"),
                              messageElement: document.getElementById("loading-message"),
                              contentWrapper: document.querySelector(".content-wrapper"),
                         };

                         this.animate = this.animate.bind(this);
                         this.updateMessage = this.updateMessage.bind(this);
                    }

                    shuffleArray(array) {
                         for (let i = array.length - 1; i > 0; i--) {
                              const j = Math.floor(Math.random() * (i + 1));
                              [array[i], array[j]] = [array[j], array[i]];
                         }
                         return array;
                    }
                    
                    initialize() {
                         if (!this.validateElements()) return;
                         this.setupPhrases();
                         this.start();
                    }

                    validateElements() {
                         const missingElements = Object.entries(this.elements)
                              .filter(([key, element]) => !element)
                              .map(([key]) => key);

                         if (missingElements.length > 0) {
                              console.error("Missing required elements:", missingElements);
                              return false;
                         }
                         return true;
                    }

                    elementToString(element) {
                         const wrapper = document.createElement("div");
                         wrapper.appendChild(element);
                         return wrapper.innerHTML;
                    }

                    setupPhrases() {
                         this.phrases = this.shuffleArray(this.phrases);
                         this.elements.phrasesContainer.innerHTML = "";

                         this.phrases.forEach((phrase, index) => {
                              const div = document.createElement("div");
                              div.className = "phrase-item";
                              div.style.transform = `translateY(${index * this.config.verticalSpacing}px)`;

                              const span = document.createElement("span");
                              span.className = "phrase-text";
                              span.textContent = `${phrase}...`;

                              const checkSVG = SVGFactory.createCheck(
                                   index * this.config.verticalSpacing,
                                   index
                              );

                              div.appendChild(span);
                              div.appendChild(checkSVG);
                              this.elements.phrasesContainer.appendChild(div);
                         });
                    }

                    easeInOut(t) {
                         return (Math.sin(t / 200 + 100) + 1) / 2;
                    }

                    createPhrasesHTML() {
                         return this.phrases
                              .map((phrase, index) => {
                                   const checkSVG = SVGFactory.createCheck(
                                        index * this.config.verticalSpacing,
                                        index
                                   );
                                   const checkSVGString = this.elementToString(checkSVG);

                                   return `
      <div class="phrase-item" style="transform: translateY(${index * this.config.verticalSpacing}px)">
        <span class="phrase-text">${phrase}...</span>
        ${checkSVGString}
      </div>
    `;
                              })
                              .join("");
                    }

                    updateChecks() {
                         this.checks.forEach((check, i) => {
                              const colorChangeBoundary = -i * VERTICAL_SPACING + VERTICAL_SPACING + 15;
                              if (this.upwardMovingGroup.currentY < colorChangeBoundary) {
                                   const alpha = Math.max(
                                        Math.min(
                                             1 -
                                             (this.upwardMovingGroup.currentY - colorChangeBoundary + 15) / 30,
                                             1
                                        ),
                                        0
                                   );
                                   check.circle.setAttribute("fill", `rgba(255, 255, 255, ${alpha})`);
                                   const checkColor = [
                                        Math.round(255 * (1 - alpha) + 120 * alpha),
                                        Math.round(255 * (1 - alpha) + 154 * alpha),
                                   ];
                                   check.check.setAttribute(
                                        "fill",
                                        `rgba(255, ${checkColor[0]}, ${checkColor[1]}, 1)`
                                   );
                              }
                         });
                    }

                    animate() {
                         if (!this.state.isAnimating) return;

                         const elapsed = Date.now() - this.state.startTime;
                         const progress = Math.min(elapsed / this.config.animationDuration, 1);

                         if (progress < 1) {
                              this.updateAnimation(progress);
                              requestAnimationFrame(this.animate);
                         } else {
                              this.stop();
                         }
                    }

                    updateAnimation(progress) {
                         const translateY = -progress * (this.phrases.length * this.config.verticalSpacing);
                         this.elements.phrasesContainer.style.transform = `translateY(${translateY}px)`;

                         document.querySelectorAll(".phrase-item").forEach((item, index) => {
                              const itemProgress = progress * this.phrases.length - index;
                              if (itemProgress > 0) {
                                   item.classList.add("completed");
                              }
                         });
                    }

                    updateMessage() {
                         this.state.currentPhraseIndex =
                              (this.state.currentPhraseIndex + 1) % this.phrases.length;
                         this.elements.messageElement.textContent = `${
      this.phrases[this.state.currentPhraseIndex]
    }...`;
                    }

                    start() {
                         this.isAnimating = true;
                         this.state.startTime = Date.now();
                         this.messageInterval = setInterval(
                              this.updateMessage,
                              this.config.messageInterval
                         );
                         this.animate();
                    }

                    stop() {
                         this.state.isAnimating = false;
                         clearInterval(this.messageInterval);

                         this.elements.preloader.classList.add("fade-out");
                         setTimeout(() => {
                              this.elements.preloader.style.display = "none";
                              this.elements.contentWrapper.classList.add("show");
                              document.body.style.overflow = "visible";
                         }, this.config.fadeOutDuration);
                    }
               }

               class UIController {
                    static setupEventListeners() {
                         document.querySelectorAll(".nav-bttn").forEach((button) => {
                              button.addEventListener("mouseenter", () =>
                                   button.classList.add("animate__animated", "animate__pulse", "animate__infinite")
                              );
                              button.addEventListener("mouseleave", () => 
                                   button.classList.remove("animate__animated", "animate__pulse", "animate__infinite")
                              )
                         });
                                  document.querySelectorAll("h1").forEach((h1_el) => {
                              h1_el.addEventListener("mouseenter", () =>
                                   h1_el.classList.add("animate__animated", "animate__pulse", "animate__infinite")
                              );
                              h1_el.addEventListener("mouseleave", () => 
                                   h1_el.classList.remove("animate__animated", "animate__pulse", "animate__infinite")
                              )
                                  });
                              const icon = document.getElementById("jod-icon")
                              icon.addEventListener("mouseenter", () =>
                                   icon.classList.add("animate__animated", "animate__pulse", "animate__infinite")
                              );
                              icon.addEventListener("mouseleave", () => 
                                   icon.classList.remove("animate__animated", "animate__pulse", "animate__infinite")
                              )
                         ;
                         
               }
          }
               // Speech Bubble Controller with responsive improvements
               class SpeechBubbleController {
                    constructor() {
                         this.iconElement = document.getElementById('jod-icon');
                         this.bubbleElement = null;
                         this.jokeContentElement = document.getElementById('joke-content');
                         this.isHovering = false;
                         this.currentJoke = null;
                         this.isLoading = false;
                         this.isMobile = window.matchMedia('(max-width: 768px)').matches;
                         this.init();
                    }

                    init() {
                         if (!this.iconElement) {
                              console.error('jod-icon element not found');
                              return;
                         }
                         this.createSpeechBubble();
                         this.setupEventListeners();
                         this.loadInitialJoke();
                         
                         // Listen for viewport changes
                         window.matchMedia('(max-width: 768px)').addEventListener('change', (e) => {
                              this.isMobile = e.matches;
                         });
                    }

                    createSpeechBubble() {
                         this.bubbleElement = document.createElement('div');
                         this.bubbleElement.className = 'speech-bubble';
                         this.bubbleElement.id = 'speech-bubble';

                         const contentSpan = document.createElement('span');
                         contentSpan.id = 'speech-bubble-content';
                         contentSpan.textContent = 'Loading joke...';

                         this.bubbleElement.appendChild(contentSpan);
                         document.body.appendChild(this.bubbleElement);
                         this.speechContentElement = contentSpan;
                    }

                    setupEventListeners() {
                         // Enhanced for mobile - use touch events
                         if (this.isMobile) {
                              this.iconElement.addEventListener('touchstart', (e) => {
                                   e.preventDefault();
                                   this.handleClick();
                              });
                         } else {
                              this.iconElement.addEventListener('mouseenter', (e) => {
                                   this.handleMouseEnter(e);
                              });
                              
                              this.iconElement.addEventListener('mouseleave', () => {
                                   this.handleMouseLeave();
                              });
                              
                              this.iconElement.addEventListener('mousemove', (e) => {
                                   this.positionBubble(e);
                              });
                         }
                         
                         this.iconElement.addEventListener('click', (e) => {
                              e.preventDefault();
                              this.handleClick();
                         });
                    }

                    async handleMouseEnter(e) {
                         if (this.isMobile) return;
                         
                         this.isHovering = true;
                         this.positionBubble(e);
                         this.showBubble();

                         if (this.currentJoke) {
                              this.speechContentElement.textContent = this.currentJoke;
                         } else if (!this.isLoading) {
                              await this.loadNewJoke();
                         }
                    }

                    handleMouseLeave() {
                         if (this.isMobile) return;
                         this.isHovering = false;
                         this.hideBubble();
                    }

                    async handleClick() {
                         if (!this.isLoading) {
                              await this.loadNewJoke();
                         }
                    }

                    showBubble() {
                         this.bubbleElement.classList.add('show');
                    }

                    hideBubble() {
                         this.bubbleElement.classList.remove('show');
                    }

                    positionBubble(e) {
                         if (this.isMobile) return;
                         
                         const iconRect = this.iconElement.getBoundingClientRect();
                         const viewport = {
                              width: window.innerWidth,
                              height: window.innerHeight
                         };

                         const bubbleWidth = this.bubbleElement.offsetWidth || 250;
                         const bubbleHeight = this.bubbleElement.offsetHeight || 80;

                         let left = iconRect.left + (iconRect.width / 2) - (bubbleWidth / 2);
                         let top = iconRect.top - bubbleHeight - 15;

                         if (left < 10) {
                              left = 10;
                              this.bubbleElement.classList.add('tail-left');
                              this.bubbleElement.classList.remove('tail-right');
                         } else if (left + bubbleWidth > viewport.width - 10) {
                              left = viewport.width - bubbleWidth - 10;
                              this.bubbleElement.classList.add('tail-right');
                              this.bubbleElement.classList.remove('tail-left');
                         } else {
                              this.bubbleElement.classList.remove('tail-left', 'tail-right');
                         }

                         if (top < 10) {
                              top = iconRect.bottom + 15;
                         }

                         this.bubbleElement.style.left = `${left}px`;
                         this.bubbleElement.style.top = `${top}px`;
                    }

                    async loadNewJoke() {
                         if (this.isLoading) return;

                         this.isLoading = true;
                         this.bubbleElement.classList.add('loading');

                         if (this.speechContentElement) {
                              this.speechContentElement.textContent = 'Loading new joke...';
                         }

                         try {
                              const response = await fetch(API_URL);
                              const data = await response.json();
                              this.currentJoke = data.content;

                              if (this.speechContentElement) {
                                   this.speechContentElement.textContent = this.currentJoke;
                              }

                         } catch (error) {
                              console.error('Error loading joke:', error);
                              const errorMessage = 'Failed to load joke. Please try again.';

                              if (this.speechContentElement) {
                                   this.speechContentElement.textContent = errorMessage;
                              }

                              if (this.jokeContentElement) {
                                   this.jokeContentElement.textContent = errorMessage;
                              }

                              this.currentJoke = null;
                         } finally {
                              this.isLoading = false;
                              this.bubbleElement.classList.remove('loading');
                         }
                    }

                    async loadInitialJoke() {
                         try {
                              const response = await fetch(API_URL);
                              const data = await response.json();
                              this.currentJoke = data.content;

                              if (this.speechContentElement) {
                                   this.speechContentElement.textContent = this.currentJoke;
                              }

                              if (this.jokeContentElement) {
                                   this.jokeContentElement.textContent = this.currentJoke;
                              }
                         } catch (error) {
                              console.error('Error loading initial joke:', error);
                              const fallbackJoke = 'Yo momma is so fat that when she walked past the TV, I missed three episodes.';
                              this.currentJoke = fallbackJoke;

                              if (this.speechContentElement) {
                                   this.speechContentElement.textContent = fallbackJoke;
                              }
                         }
                    }
               }

               // DOM Ready
               document.addEventListener("DOMContentLoaded", () => {
                    const preloader = new PreloaderAnimation();
                    preloader.initialize();
                    
                    const speechBubble = new SpeechBubbleController();
                    UIController.setupEventListeners();

                    setTimeout(() => {
                         preloader.stop();
                         
                         const page = document.getElementById("page");
                         if (page) {
                              page.style.display = "none";
                         }

                         const bodyHide = document.getElementById("body-hide");
                         if (bodyHide) {
                              bodyHide.style.display = "block";
                         }

                         document.body.style.overflow = "visible";
                    }, PRELOADER_DELAY);
               });

               // Icon animations with responsive considerations
               let icon = $('#jod-icon');
               icon.on("mouseenter", () => {
                    if (!window.matchMedia('(max-width: 768px)').matches) {
                         icon.toggleClass(['animate__animated', 'animate__heartbeat']);
                    }
               }).on("mouseleave", () => {
                    if (!window.matchMedia('(max-width: 768px)').matches) {
                         icon.toggleClass(['animate__animated', 'animate__heartbeat']);
                    }
               });

               // Monitoring/Observability auto-switcher with responsive considerations
               let monitoringSwitchInterval = null;
               let monitoringState = 'prom';

               function renderMonitoring(state) {
                    const cardTitle = $('#monitoring-card-title');
                    const cardText = $('#monitoring-card-text');
                    const cardImg = $('#monitoring-img');
                    const cardLink = $('#monitoring-card-link');
                    const cardTooltip = $('#monitoring-tooltip');
                    const cardDesc = $('#monitoring-card-desc')

                    if (state === 'highlight') {
                         cardTitle.text('Observability');
                         cardText.text('Highlight.io');
                         cardImg.attr('src', "https://nyc3.digitaloceanspaces.com/yo-momma/static/assets/highlight_logo.png");
                         cardLink.text('More on Highlight.io');
                         cardLink.attr('href', 'https://highlight.io/');
                         cardTooltip.attr('title', 'Prometheus and Highlight.io work together to keep The Dozens API reliable and transparent. Highlight.io captures logs, traces, and front-end events for end-to-end visibility.');
                         cardDesc.text('Prometheus and Highlight.io work together to keep The Dozens API reliable and transparent. Highlight.io captures logs, traces, and front-end events for end-to-end visibility.')
                    } else {
                         cardTitle.text('Monitoring');
                         cardText.text('Prometheus');
                         cardImg.attr('src', "https://nyc3.digitaloceanspaces.com/yo-momma/static/assets/prom_logo.png");
                         cardLink.text('More on Prometheus');
                         cardLink.attr('href', 'https://prometheus.io/');
                         cardTooltip.attr('title', 'Prometheus and Highlight.io work together to keep The Dozens API reliable and transparent. Prometheus collects metrics (latency, request counts, cache hits, error rates) so performance can be tracked and tuned.');
                         cardDesc.text('Prometheus and Highlight.io work together to keep The Dozens API reliable and transparent. Prometheus collects metrics (latency, request counts, cache hits, error rates) so performance can be tracked and tuned.')
                    }
               }

               function switchMonitoringOnce() {
                    monitoringState = (monitoringState === 'prom') ? 'highlight' : 'prom';
                    renderMonitoring(monitoringState);
               }

               function startMonitoringSwitcher() {
                    if (monitoringSwitchInterval) return;
                    switchMonitoringOnce();
                    monitoringSwitchInterval = setInterval(switchMonitoringOnce, 30000);
               }

               function stopMonitoringSwitcher() {
                    if (!monitoringSwitchInterval) return;
                    clearInterval(monitoringSwitchInterval);
                    monitoringSwitchInterval = null;
               }

               // Bootstrap tab events for monitoring switcher
               (function attachMonitoringTabHandlers() {
                    const tabSelector = 'a[data-bs-toggle="pill"], a[data-toggle="pill"]';

                    $(document).on('shown.bs.tab', tabSelector, function(e) {
                         if (e.target && e.target.id === 'monitoring-tab') {
                              startMonitoringSwitcher();
                         } else if (e.relatedTarget && e.relatedTarget.id === 'monitoring-tab') {
                              stopMonitoringSwitcher();
                         }
                    });

                    $(document).on('hidden.bs.tab', tabSelector, function(e) {
                         if (e.target && e.target.id === 'monitoring-tab') {
                              stopMonitoringSwitcher();
                         }
                    });

                    const monitoringPane = document.getElementById('monitoring');
                    if (monitoringPane && monitoringPane.classList.contains('show')) {
                         startMonitoringSwitcher();
                    }
               })();

               // Additional responsive JavaScript enhancements
               window.addEventListener('resize', () => {
                    // Handle any resize-specific logic
                    const isMobile = window.matchMedia('(max-width: 768px)').matches;
                    
                    // Update any dynamic elements based on screen size
                    if (isMobile) {
                         // Mobile-specific adjustments
                         document.querySelectorAll('.dropdown-menu-horizontal').forEach(menu => {
                              menu.style.minWidth = '200px';
                         });
                    } else {
                         // Desktop-specific adjustments
                         document.querySelectorAll('.dropdown-menu-horizontal').forEach(menu => {
                              menu.style.minWidth = '280px';
                         });
                    }
               });
          </script>
     </body>
</html>